KDE5
====

Here is KDE 5_18.01_testing for Slackware, consisting of the
KDE Frameworks 5.42.0, Plasma 5.11.5 and Applications 17.12.1
on top of Qt 5.9.3.

Upgrading from 5_17.12_testing is straight-forward.

KDE-5_18.01_testing is meant to be installed on top of slackware -current.
It is different from the 'regular' KDE_5.18.01 release in the sense that this
'testing' release has a working Wayland support for Plasma5 on Slackware.
To this purpose, the original Slackware packages 'mesa' and xorg-server'
were recompiled to add Wayland support.  Having to provide altered packages
for mesa and xorg-server is not something I want to do for my regular 'ktown'
repository because it may break your system at any time when Pat Volkerding
pushes updates to Slackware-current.

Because of the similarity between 'testing' and 'latest', I am not
repeating the full README here - for upgrade instructions and NEWS please
check the README file in the 'latest' section of the ktown repository.

If you want to start a Wayland session, here is how you do it:
- runlevel 3 (console): run the 'startkwayland' command as your regular user.
- runlevel 4 (SDDM): select "Plasma (Wayland)" from the session dropdown
  and then proceed to login.

Caveats:
So far, I ran into these issues:
- the graphical login through SDDM is not working correctly and currently
  it is advised to use runlevel 3 instead. This needs fixes to SDDM as well
  as ConsoleKit2.
- dropbox does not start, unless you unset the QT_QPA_PLATFORM variable first
- gnome-keyring does not start so you can not auto-login to skypeforlinux
- hp-tray eats 100% CPU.

Details about the 'testing' repository:
In the old 'testing' release of August 2016 I had to add a 'elogind'
package to provide a 'logind' DBus interface to kwin_wayland.  That is no
longer necessary. During the past year, I have talked to the ConoleKit2 (CK2)
and the KWin developers and asked for an extension of CK2 DBus API which
implements the logind DBus API required by KWin.  That has been done and
the KWin developers then added CK2 as an alternative in case systemd-logind
is not present on the system.
Which means, we do not need PAM nor systemd to make Wayland work on Slackware.

The differences between 'KDE-5_18.01' and 'KDE-5_18.01_testing':

Added packages:
  Deps:
  - wayland-protocols
  - mesa (recompiled Slackware package to add wayland support)
  - xorg-server (recompiled Slackware package to add wayland support)
  - ConsoleKit2 (updated the Slackware package to 1.2.x to get the new
    logind DBus API support)
Recompiled packages (in build order):
  Deps:
  - libxkbcommon
  - qt5
  Frameworks:
  - kwayland
  - plasma-framework
  Plasma:
  - kinfocenter
  - kscreenlocker
  - kwayland-integration
  - libkscreen2
  - plasma-desktop
  - plasma-integration
  - plasma-workspace
  - powerdevil
  - kwin

NOTE:
The packages which have been recompiled to pick up Wayland support do not
have the 'alien' tag. I have tagged them with the string 'wayland' instead.
Only the added ConsoleKit2 and wayland-protocols packages in the 'deps/'
section have the usual 'alien' tag.
Update your slackpkg blacklist if needed.

NOTE:
Only install this 'testing' release if you intend to help with getting
Wayland working on Slackware.  Otherwise, the 'latest' release is what
you need.

==============================================================================
                     Eric Hameleers / alien at slackware dot com / 18-jan-2018
